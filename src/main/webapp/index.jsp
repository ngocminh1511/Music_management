<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<c:set var="ctx" value="${pageContext.request.contextPath}" />
<jsp:include page="WEB-INF/views/fragments/header.jsp">
    <jsp:param name="pageTitle" value="GenZ Beats - √Çm nh·∫°c cho th·∫ø h·ªá m·ªõi" />
</jsp:include>

    <!-- Loading Screen -->
    <div class="loader" id="loader">
        <div class="loader-content">
            <div class="loader-prism">
                <div class="prism-face"></div>
                <div class="prism-face"></div>
                <div class="prism-face"></div>
            </div>
            <div style="color: var(--accent-purple); font-size: 18px; text-transform: uppercase; letter-spacing: 3px;">Loading Music...</div>
        </div>
    </div>

    <!-- Featured Singers Carousel -->
    <section class="hero" id="singers">
        <div class="carousel-container">
            <div class="carousel" id="carousel">
                <!-- Carousel items will be generated by JavaScript -->
            </div>
            
            <div class="carousel-controls">
                <button class="carousel-btn" id="prevBtn">‚Äπ</button>
                <button class="carousel-btn" id="nextBtn">‚Ä∫</button>
            </div>
            
            <div class="carousel-indicators" id="indicators">
                <!-- Indicators will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Music Genres Section -->
    <section class="philosophy-section" id="genres">
        <div class="philosophy-container">
            <div class="prism-line"></div>
            
            <h2 class="philosophy-headline">
                Th·ªÉ lo·∫°i<br>√Çm nh·∫°c
            </h2>
            
            <p class="philosophy-subheading">
                Kh√°m ph√° kho nh·∫°c ƒëa d·∫°ng t·ª´ V-POP, US-UK, EDM, Lo-fi, Rap Vi·ªát ƒë·∫øn Acoustic. M·ªói th·ªÉ lo·∫°i l√† m·ªôt th·∫ø gi·ªõi √¢m thanh ri√™ng bi·ªát.
            </p>
            
            <div class="philosophy-pillars">
                <div class="pillar">
                    <div class="pillar-icon">üéß</div>
                    <h3 class="pillar-title">V-POP & Ballad</h3>
                    <p class="pillar-description">
                        Nh·ªØng b·∫£n hit Vi·ªát n·ªïi b·∫≠t, l·ªùi ca s√¢u l·∫Øng, giai ƒëi·ªáu cu·ªën h√∫t ‚Äî c·∫≠p nh·∫≠t li√™n t·ª•c m·ªói tu·∫ßn.
                    </p>
                </div>
                
                <div class="pillar">
                    <div class="pillar-icon"><i class='bx bx-volume-full'></i></div>
                    <h3 class="pillar-title">EDM & Dance</h3>
                    <p class="pillar-description">
                        NƒÉng l∆∞·ª£ng b√πng n·ªï, bass m·∫°nh m·∫Ω ‚Äî playlist ho√†n h·∫£o cho bu·ªïi t·ªëi cu·ªëi tu·∫ßn v√† workout.
                    </p>
                </div>
                
                <div class="pillar">
                    <div class="pillar-icon"><i class='bx bx-music'></i></div>
                    <h3 class="pillar-title">Lo-fi & Chill</h3>
                    <p class="pillar-description">
                        Nh·∫°c nh·∫π nh√†ng, m·ªôc m·∫°c cho h·ªçc t·∫≠p, l√†m vi·ªác v√† th∆∞ gi√£n ‚Äî t·∫°o kh√¥ng gian y√™n b√¨nh cho t√¢m h·ªìn.
                    </p>
                </div>
            </div>
            
            <div class="philosophy-particles" id="particles">
                <!-- Particles will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Trending Music Section -->
    <section class="stats-section" id="trending">
        <div class="section-header">
            <h2 class="section-title">Trending & Th·ªëng k√™</h2>
            <p class="section-subtitle">C·∫≠p nh·∫≠t BXH, l∆∞·ª£t nghe v√† xu h∆∞·ªõng √¢m nh·∫°c m·ªõi nh·∫•t</p>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon"><i class='bx bx-music'></i></div>
                <div class="stat-number" data-target="5000">0</div>
                <div class="stat-label">B√†i h√°t</div>
                <p class="stat-description">Kho nh·∫°c kh·ªïng l·ªì t·ª´ V-POP, US-UK, EDM, Lo-fi ƒë·∫øn Rap Vi·ªát ‚Äî c·∫≠p nh·∫≠t li√™n t·ª•c.</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class='bx bx-microphone'></i></div>
                <div class="stat-number" data-target="500">0</div>
                <div class="stat-label">Ca sƒ© n·ªïi ti·∫øng</div>
                <p class="stat-description">Theo d√µi c√°c ngh·ªá sƒ© y√™u th√≠ch, kh√°m ph√° b√†i h√°t m·ªõi t·ª´ h·ªç m·ªói ng√†y.</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class='bx bxs-hot'></i></div>
                <div class="stat-number" data-target="100">0</div>
                <div class="stat-label">Playlist hot</div>
                <p class="stat-description">Danh s√°ch ph√°t ƒë∆∞·ª£c tuy·ªÉn ch·ªçn k·ªπ l∆∞·ª°ng cho m·ªçi t√¢m tr·∫°ng v√† ho·∫°t ƒë·ªông.</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon"><i class='bx bx-group'></i></div>
                <div class="stat-number" data-target="1000">0</div>
                <div class="stat-label">Ng∆∞·ªùi d√πng</div>
                <p class="stat-description">C·ªông ƒë·ªìng GenZ y√™u nh·∫°c ƒëang ph√°t tri·ªÉn m·ªói ng√†y ‚Äî tham gia ngay!</p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="contact-section" id="cta">
        <div class="section-header">
            <h2 class="section-title">B·∫Øt ƒë·∫ßu h√†nh tr√¨nh √¢m nh·∫°c</h2>
            <p class="section-subtitle">ƒêƒÉng k√Ω ƒë·ªÉ l∆∞u b√†i h√°t y√™u th√≠ch, t·∫°o playlist v√† kh√°m ph√° th√™m nhi·ªÅu t√≠nh nƒÉng</p>
        </div>
        
        <div style="text-align:center; padding: 3rem 0;">
            <c:choose>
                <c:when test="${not empty sessionScope.user}">
                    <a href="${ctx}/home" style="display:inline-block; padding:1rem 3rem; background:linear-gradient(90deg,#7a5cff,#00c2ff 70%); color:#fff; border-radius:50px; text-decoration:none; font-size:1.2rem; font-weight:700;">Kh√°m ph√° nh·∫°c m·ªõi</a>
                </c:when>
                <c:otherwise>
                    <a href="${ctx}/register" style="display:inline-block; padding:1rem 3rem; background:linear-gradient(90deg,#7a5cff,#00c2ff 70%); color:#fff; border-radius:50px; text-decoration:none; font-size:1.2rem; font-weight:700; margin-right:1rem;">ƒêƒÉng k√Ω mi·ªÖn ph√≠</a>
                    <a href="${ctx}/login" style="display:inline-block; padding:1rem 3rem; background:rgba(255,255,255,0.1); color:#fff; border:2px solid #7a5cff; border-radius:50px; text-decoration:none; font-size:1.2rem; font-weight:700;">ƒêƒÉng nh·∫≠p</a>
                </c:otherwise>
            </c:choose>
        </div>
    </section>

<jsp:include page="WEB-INF/views/fragments/footer.jsp" />
<script>window.APP_CONTEXT='${ctx}';</script>
<script src="${ctx}/index.js"></script>
<script>
// ·∫®n loading screen khi trang load xong
(function() {
    function hideLoader() {
        const loader = document.getElementById('loader');
        if (loader) {
            loader.style.opacity = '0';
            loader.style.transition = 'opacity 0.5s ease';
            setTimeout(function() {
                loader.style.display = 'none';
            }, 500);
        }
    }
    
    // Th·ª≠ ·∫©n ngay khi script ch·∫°y (DOM ƒë√£ ready)
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(hideLoader, 300);
        });
    } else {
        setTimeout(hideLoader, 300);
    }
    
    // Fallback: ·∫®n khi window.load
    window.addEventListener('load', function() {
        setTimeout(hideLoader, 500);
    });
})();
</script>